define(["./sniff","./dom","./_base/window"],(function(t,e,r){var n,i,l={};n=t("webkit")?function(t){var e;if(1==t.nodeType){var r=t.ownerDocument.defaultView;!(e=r.getComputedStyle(t,null))&&t.style&&(t.style.display="",e=r.getComputedStyle(t,null))}return e||{}}:t("ie")&&(t("ie")<9||t("quirks"))?function(t){return 1==t.nodeType&&t.currentStyle?t.currentStyle:{}}:function(t){if(1===t.nodeType){var e=t.ownerDocument.defaultView;return(e.opener?e:r.global.window).getComputedStyle(t,null)}return{}},l.getComputedStyle=n,i=t("ie")?function(t,e){if(!e)return 0;if("medium"==e)return 4;if(e.slice&&"px"==e.slice(-2))return parseFloat(e);var r=t.style,n=t.runtimeStyle,i=t.currentStyle,l=r.left,o=n.left;n.left=i.left;try{r.left=e,e=r.pixelLeft}catch(t){e=0}return r.left=l,n.left=o,e}:function(t,e){return parseFloat(e)||0},l.toPixelValue=i;var o="DXImageTransform.Microsoft.Alpha",u=function(t,e){try{return t.filters.item(o)}catch(t){return e?{}:null}},a=t("ie")<9||t("ie")<10&&t("quirks")?function(t){try{return u(t).Opacity/100}catch(t){return 1}}:function(t){return n(t).opacity},f=t("ie")<9||t("ie")<10&&t("quirks")?function(t,e){""===e&&(e=1);var r=100*e;if(1===e?(t.style.zoom="",u(t)&&(t.style.filter=t.style.filter.replace(new RegExp("\\s*progid:"+o+"\\([^\\)]+?\\)","i"),""))):(t.style.zoom=1,u(t)?u(t,1).Opacity=r:t.style.filter+=" progid:"+o+"(Opacity="+r+")",u(t,1).Enabled=!0),"tr"==t.tagName.toLowerCase())for(var n=t.firstChild;n;n=n.nextSibling)"td"==n.tagName.toLowerCase()&&f(n,e);return e}:function(t,e){return t.style.opacity=e},s={left:!0,top:!0},y=/margin|padding|width|height|max|min|offset/,c={cssFloat:1,styleFloat:1,float:1};return l.get=function(t,r){var n=e.byId(t),o=arguments.length;if(2==o&&"opacity"==r)return a(n);r=c[r]?"cssFloat"in n.style?"cssFloat":"styleFloat":r;var u=l.getComputedStyle(n);return 1==o?u:function(t,e,r){if(e=e.toLowerCase(),"auto"==r){if("height"==e)return t.offsetHeight;if("width"==e)return t.offsetWidth}return"fontweight"==e?700===r?"bold":"normal":(e in s||(s[e]=y.test(e)),s[e]?i(t,r):r)}(n,r,u[r]||n.style[r])},l.set=function(t,r,n){var i=e.byId(t),o=arguments.length,u="opacity"==r;if(r=c[r]?"cssFloat"in i.style?"cssFloat":"styleFloat":r,3==o)return u?f(i,n):i.style[r]=n;for(var a in r)l.set(t,a,r[a]);return l.getComputedStyle(i)},l}));